"use strict";function _typeof(o){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o})(o)}window.wfob=function(o){return{increment:1,wfob_data_org:{},wfob_data_new:{},ajax:function(t,n,e){var i=this,r=null,a={},c="wfob_";function s(t,n,e,r,a,c){n.length>0&&n.prop("disabled",!1),e.remove(),o("#offer_settings_btn_bottom .wfob_save_funnel_offer_products_ajax_loader ").removeClass("ajax_loader_show"),!0===i.hasOwnProperty(t)&&"function"==typeof i[t]&&i[t](r,n,e,a,c)}return this.action=null,this.data=function(o){arguments.length>1&&void 0!==arguments[1]&&arguments[1];return o},this.before_send=function(o){wfob.show_spinner()},this.async=function(o){return o},this.method=function(o){return o},this.success=function(o,t,n,e,i){},this.complete=function(o,t,n,e,i){},this.error=function(o,t,n,e,i){},this.action=function(o){return o},this.ajax=function(t,n){"object"===_typeof(n)?n.action=t:n={action:t},n.action=c+t,i.before_send(document.body,t),n.wfob_nonce=wfob_secure.nonce;var e={url:ajaxurl,async:i.async(!0),method:i.method("POST"),data:n,success:function(o,n,e){"object"===_typeof(o)&&o.hasOwnProperty("nonce")&&(wfob_secure.nonce=o.nonce,delete o.nonce),i.success(o,n,e,t)},complete:function(o,n,e){i.complete(o,n,e,t)},error:function(o,n,e){i.error(o,n,e,t)}};a.hasOwnProperty(t)?clearTimeout(a[t]):a[t]=null,a[t]=setTimeout(function(t){o.ajax(t)},200,e)},!0===n?(function(t){o(t).length>0&&(o(t).on("submit",function(t){t.preventDefault();var n=o(this).data("wfoaction");console.log(n),"undefined"!==n&&(n=(n=c+n).trim(),r=this,i.action=n,function(t){var n=r,e=null,c=new FormData(n);c.append("action",t),c.append("wfob_nonce",wfob_secure.nonce),o(n).attr("method"),0===o(n).find("."+t+"_ajax_loader").length?(o(n).find(".wfob_form_submit").prepend("<span class='"+t+"_ajax_loader spinner'></span>"),e=o(n).find("."+t+"_ajax_loader")):e=o(n).find("."+t+"_ajax_loader");var f=o("#offer_settings_btn_bottom .wfob_save_funnel_offer_products_ajax_loader ");e.addClass("ajax_loader_show"),f.addClass("ajax_loader_show");var u=o(n).find("fieldset");u.length>0&&u.prop("disabled",!0),i.before_send(n,t);var l=i.data(c,n),d={url:ajaxurl,async:i.async(!0),method:i.method("POST"),data:l,processData:!1,contentType:!1,success:function(o,n,r){"object"===_typeof(o)&&o.hasOwnProperty("nonce")&&(wfob_secure.nonce=o.nonce,delete o.nonce),s(t+"_ajax_success",u,e,o,n,r),i.success(o,n,r,u,e)},complete:function(o,n,r){s(t+"_ajax_complete",u,e,o,n,r),i.complete(o,n,r,u,e)},error:function(o,n,r){s(t+"_ajax_error",u,e,o,n,r),i.error(o,n,r,u,e)}};a.hasOwnProperty(t)?clearTimeout(a[t]):a[t]=null,a[t]=setTimeout(function(t){o.ajax(t)},200,d)}(n))}),"function"==typeof e&&e(i))}(t),this):!1===n?(function(t){o(t).length>0&&(o(t).on("click",function(t){console.log(t),t.preventDefault();var n=o(this).data("wfoaction");"undefined"!==n&&(n=(n=c+n).trim(),r=this,i.action=n,function(t){var n=r,e=i.data({},n);"object"===_typeof(e)?e.action=t:e={action:t},i.before_send(n,t),e.wfob_nonce=wfob_secure.nonce;var c={url:ajaxurl,async:i.async(!0),method:i.method("POST"),data:e,success:function(o,t,n){"object"===_typeof(o)&&o.hasOwnProperty("nonce")&&(wfob_secure.nonce=o.nonce,delete o.nonce),i.success(o,t,n,r)},complete:function(o,t,n){i.complete(o,t,n,r)},error:function(o,t,n){i.error(o,t,n,r)}};a.hasOwnProperty(t)?clearTimeout(a[t]):a[t]=null,a[t]=setTimeout(function(t){o.ajax(t)},200,c)}(n))}),"function"==typeof e&&e(i))}(t),this):this},hooks:{hooks:{action:{},filter:{}},addAction:function(o,t,n,e){this.addHook("action",o,t,n,e)},addFilter:function(o,t,n,e){this.addHook("filter",o,t,n,e)},doAction:function(o){this.doHook("action",o,arguments)},applyFilters:function(o){return console.log("applying filter"),this.doHook("filter",o,arguments)},removeAction:function(o,t){this.removeHook("action",o,t)},removeFilter:function(o,t,n){this.removeHook("filter",o,t,n)},addHook:function(o,t,n,e,i){void 0==this.hooks[o][t]&&(this.hooks[o][t]=[]);var r=this.hooks[o][t];void 0==i&&(i=t+"_"+r.length),void 0==e&&(e=10),this.hooks[o][t].push({tag:i,callable:n,priority:e})},doHook:function(o,t,n){if(n=Array.prototype.slice.call(n,1),void 0!=this.hooks[o][t]){var e,i=this.hooks[o][t];i.sort(function(o,t){return o.priority-t.priority});for(var r=0;r<i.length;r++)"function"!=typeof(e=i[r].callable)&&(e=window[e]),"action"==o?e.apply(null,n):n[0]=e.apply(null,n)}if("filter"==o)return n[0]},removeHook:function(o,t,n,e){if(void 0!=this.hooks[o][t])for(var i=this.hooks[o][t],r=i.length-1;r>=0;r--)void 0!=e&&e!=i[r].tag||void 0!=n&&n!=i[r].priority||i.splice(r,1)}},tools:{ol:function(o){var t=0;return null!=o&&"object"===_typeof(o)&&(t=Object.keys(o).length),t},isEmpty:function(o){for(var t in o)if(o.hasOwnProperty(t))return!1;return!0},hp:function(o,t){var n=!1;return"object"===_typeof(o)&&void 0!==t&&(n=o.hasOwnProperty(t)),n},jsp:function(o){if("object"===_typeof(o)){var t=JSON.stringify(o);return t=JSON.parse(t)}return o},kys:function(o){return"object"===_typeof(o)&&null!=o&&this.ol(o)>0?Object.keys(o):[]},ucfirst:function(o){return o.replace(/^\w/,function(o){return o.toUpperCase()})},stripHTML:function(t){return o("<div>"+t+"</div>").text()}},swal:function(o){function t(t){return o.apply(this,arguments)}return t.toString=function(){return o.toString()},t}(function(t){return swal(o.extend({title:"",text:"",type:"warning",showCancelButton:!0,confirmButtonColor:"#0073aa",cancelButtonColor:"#e33b3b",confirmButtonText:""},t))}),model:{add_product:function(){var t=o("#modal-add-product");t.length>0&&t.iziModal({title:"Add product",headerColor:"#6dbe45",background:"#efefef",borderBottom:!1,width:600,overlayColor:"rgba(0, 0, 0, 0.6)",transitionIn:"fadeInDown",transitionOut:"fadeOutDown",navigateArrows:"false",onOpening:function(o){o.startLoading()},onOpened:function(o){o.stopLoading()},onClosed:function(o){}})}},sortable:function(t,n,e,i){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:".wfob_item_drag",a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:".ui-state-disabled",c=o(t);if(0!==c.length){c.off("sortable");var s={connectWith:t,start:function(o,t){n(o,t)},stop:function(o,t){e(o,t)},over:function(o,t){i("in",o,t)},out:function(o,t){i("out",o,t)}},f=".wfob_item_drag";""!==r&&(f=r),""!==a&&(f+=":not("+a+")"),s.items=f,c.sortable(s),c.disableSelection()}},droppable:function(t,n){var e=o(t);if(0!==e.length){e.off("droppable");var i={accept:".wfob_item_drag",classes:{"ui-droppable-active":"ui-state-active","ui-droppable-hover":"ui-state-hover"},over:function(o,t){n(o,t)}};e.droppable(i)}},addClass:function(t,n){o(t).addClass(n)},removeClass:function(t,n){o(t).removeClass(n)},show_data_save_model:function(){var o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";""!==o&&(wfob.hide_spinner(),wfob.show_saved_model.iziModal("setTitle",o),wfob.show_saved_model.iziModal("open"))},show_spinner:function(){var t=o(".wfob_spinner.spinner");t.length>0&&t.css("visibility","visible")},hide_spinner:function(){var t=o(".wfob_spinner.spinner");t.length>0&&t.css("visibility","hidden")}}}(jQuery);