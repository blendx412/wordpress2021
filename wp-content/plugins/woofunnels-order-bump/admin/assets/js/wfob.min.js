"use strict";function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _possibleConstructorReturn(e,t){return!t||"object"!==_typeof(t)&&"function"!=typeof t?_assertThisInitialized(e):t}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _get(e,t,o){return(_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,o){var i=_superPropBase(e,t);if(i){var n=Object.getOwnPropertyDescriptor(i,t);return n.get?n.get.call(o):n.value}})(e,t,o||e)}function _superPropBase(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=_getPrototypeOf(e)););return e}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var o=0;o<t.length;o++){var i=t[o];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function _createClass(e,t,o){return t&&_defineProperties(e.prototype,t),o&&_defineProperties(e,o),e}!function(e){var t=function(){function t(e){_classCallCheck(this,t),e=wfob.tools.jsp(e),this.id=e.id,this.name=e.name,this.currency=e.currency,this.products=e.products,this.design=e.design,this.settings=e.settings,this.global_settings=e.global_settings,this.ajax_action="create_bump",this.ajax_data={},this.main(),this.$_events(),this.model()}return _createClass(t,[{key:"main",value:function(){}},{key:"get_main",value:function(){return this.main_vue}},{key:"get_id",value:function(){return this.id}},{key:"get_current_ajax_action",value:function(){return this.ajax_action}},{key:"get_current_ajax_data",value:function(){return this.ajax_data}},{key:"get_data",value:function(){return this.data}},{key:"send_ajax",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new wfob.ajax;if(wfob.tools.hp(this.ajax_data,"wfob_id")||(this.ajax_data.wfob_id=this.id),t.ajax(this.ajax_action,this.ajax_data),!0===e)return t;t.success=function(e){wfob.show_data_save_model(e.msg)}}},{key:"$_events",value:function(){setTimeout(function(){e(".wfob_loader").hide()},600)}},{key:"model",value:function(){wfob.show_saved_model=e("#modal-saved-data-success"),wfob.show_saved_model.length>0&&(this.show_save_model_data={title:wfob_localization.global.data_saving,icon:"icon-check",headerColor:"#6dbe45",background:"#6dbe45",borderBottom:!1,width:600,timeout:4e3,timeoutProgressbar:!0,transitionIn:"fadeInUp",transitionOut:"fadeOutDown",bottom:0,loop:!0,pauseOnHover:!0,overlay:!1,onOpening:function(e){},onClosed:function(e){wfob.show_saved_model.iziModal("setTitle",wfob_localization.global.data_saving)}},wfob.show_saved_model.iziModal(this.show_save_model_data))}}]),t}(),o=function(o){function i(e){var t;return _classCallCheck(this,i),(t=_possibleConstructorReturn(this,_getPrototypeOf(i).call(this,e))).add_new_model_open=!1,t.id=wfob.tools.hp(e,"id")?e.id:0,t.name=wfob.tools.hp(e,"name")?e.name:"",t.post_name=wfob.tools.hp(e,"post_name")?e.post_name:"",t.base_url=wfob.tools.hp(e,"base_url")?e.base_url:"",t.ajax_action="create_bump",t}return _inherits(i,t),_createClass(i,[{key:"add_new_vue",value:function(t){if(!1===this.add_new_model_open){var o=this;this.add_new_model_open=!0,this.main_vue=new Vue({el:"#add-new-form",components:{"vue-form-generator":VueFormGenerator.component},methods:{defaultModel:function(){return{name:""}},clearData:function(){this.model=this.defaultModel()},onSubmit:function(){var t=this;this.modal.startLoading();var i=this.model.name;o.ajax_data={wfob_name:i,wfob_id:o.id,post_name:this.model.post_name};var n=o.send_ajax(!0);return n.success=function(i){!0===i.status&&"#"!==i.redirect_url&&(t.modal.stopLoading(),e("#add-new-form").hide(),e(".wfob-funnel-create-success-wrap").show(),setTimeout(function(){window.location.href=i.redirect_url},1e3)),o.id>0&&(t.modal.stopLoading(),e("#wfob_bump_name").text(t.model.name),o.modal_add_bump.iziModal("close"))},n}},data:{modal:t,btn_name:this.id>0?"2":"1",model:{name:o.name,post_name:o.post_name},schema:{fields:[{type:"input",inputType:"text",label:wfob_localization.global.add_bump.heading,model:"name",required:!0,validator:VueFormGenerator.validators.string}]},formOptions:{validateAfterChanged:!0}}})}}},{key:"$_events",value:function(){var t,o,n,a=this;_get(_getPrototypeOf(i.prototype),"$_events",this).call(this),t=/([^&=]+)=?([^&]*)/g,o=/\+/g,n=function(e){return decodeURIComponent(e.replace(o," "))},jQuery.parseParams=function(e){for(var o,i={};o=t.exec(e);){var a=n(o[1]),r=n(o[2]);"[]"===a.substring(a.length-2)?(i[a=a.substring(0,a.length-2)]||(i[a]=[])).push(r):i[a]=r}return i},this.modal_add_bump=e("#modal-add-bump"),this.modal_add_bump.length>0&&this.modal_add_bump.iziModal({title:this.id>0?wfob_localization.global.add_bump.edit_order_bump:wfob_localization.global.add_bump.new_bump,headerColor:"#6dbe45",background:"#efefef",borderBottom:!1,history:!1,width:600,overlayColor:"rgba(0, 0, 0, 0.6)",transitionIn:"bounceInDown",transitionOut:"bounceOutDown",navigateCaption:!0,navigateArrows:"false",onOpening:function(e){e.startLoading()},onOpened:function(e){e.stopLoading(),a.add_new_vue(e)},onClosed:function(e){}}),e(".wfob_delete_checkout_page").on("click",function(t){t.preventDefault();var o=e(this).attr("href"),i=wfob.swal({text:wfob_localization.global.delete_wfob_page,type:"error",confirmButtonText:wfob_localization.global.confirm_button_text,cancelButtonText:wfob_localization.global.cancel_button_text});i.then(function(e){wfob.tools.hp(e,"value")&&(window.location.href=o)}),i.catch(function(){})}),e(".wfob_checkout_page_status").on("change",function(t){var o=!1;e(this).is(":checked")&&(o=!0);var i=e(".wfob_head_bump_state_on"),n=e(".wfob_head_bump_state_off");o?(i.show(),n.hide()):(i.hide(),n.show());var a=e(this).data("id"),r=new wfob.ajax;r.ajax("update_page_status",{post_status:o,id:a}),r.success=function(e){wfob.show_data_save_model(e.msg)}}),e(".woofunnels_page_wfob .icl_translations a").on("click",function(t){if(e(this).find(".otgs-ico-add").length>0){var o=e(this).attr("href");if(o=o.replace("post-new.php?",""),"object"==_typeof(o=e.parseParams(o))&&wfob.tools.ol(o)>0){t.preventDefault();var i=new wfob.ajax;i.ajax("make_wpml_duplicate",o),i.success=function(e){1==e.status?window.location.href=e.redirect_url:alert(e.msg)}}}})}}]),i}(),i=function(o){function i(e){var t;return _classCallCheck(this,i),(t=_possibleConstructorReturn(this,_getPrototypeOf(i).call(this,e))).formHasChanges=!1,t.search_timeout=null,t.search_model_open=null,t.last_active_product="",t.addProductModel(),t}return _inherits(i,t),_createClass(i,[{key:"main",value:function(){var e=this;this.main_vue=new Vue({el:"#wfob_product_container",created:function(){this.haveVariableProduct(),wfob.hooks.doAction("wfob_product_ui_created",this)},methods:{isEmpty:function(){return 0===wfob.tools.ol(this.products)},addProduct:function(e,t){Vue.set(this.products,e,t),this.haveVariableProduct(),this.save_products()},haveVariableProduct:function(){if(wfob.tools.ol(this.products)>1)for(var e in this.products){var t=this.products[e];if(wfob.tools.hp(t,"variable"))return void Vue.set(this,"have_variable",!0)}Vue.set(this,"have_variable",!1)},removeProduct:function(t){var o=this,i=wfob.swal(wfob_localization.global.remove_product);i.then(function(i){i.value&&(e.formHasChanges=!0,e.removeProduct(t),o.haveVariableProduct(),o.save_products())}),i.catch(function(e){})},set_product_data:function(t,o,i){if(null!=i.target){e.formHasChanges=!0;var n=i.target.value?i.target.value:"";if("discount_amount"===o){var a=this.products[t].discount_type;"percent_discount_sale"!==a&&"percent_discount_reg"!==a||n>100&&(n=100)}else if("discount_type"===o){var r=this.products[t].discount_amount;"percent_discount_sale"!==n&&"percent_discount_reg"!==n||(r=0,Vue.set(this.products[t],"discount_amount",r))}Vue.set(this.products[t],o,n),this.haveVariableProduct()}},save_products:function(){var t=new wfob.ajax,o={products:wfob.tools.jsp(this.products),wfob_id:e.id,last_active_product:this.last_active_product};t.ajax("save_products",o),t.success=function(e){wfob.show_data_save_model(e.msg)}}},data:{have_variable:!1,name:this.name,currency:this.currency,products:this.products,last_active_product:this.last_active_product}})}},{key:"addProducts",value:function(e){if(wfob.tools.hp(e,"products")&&wfob.tools.ol(e.products)>0){var t=e.products;for(var o in t)this.main_vue.addProduct(o,t[o])}}},{key:"removeProduct",value:function(e){var t=this,o=new wfob.ajax;o.ajax("remove_product",{product_key:e,wfob_id:this.id}),o.complete=function(o){wfob.hide_spinner(),wfob.tools.ol(o)>0&&Vue.delete(t.main_vue.products,e)}}},{key:"addProductVue",value:function(t){if(!0!==this.search_model_open){this.search_model_open=!0;var o=this;this.add_main_vue=new Vue({el:"#modal-add-product-form",components:{Multiselect:window.VueMultiselect.default},data:{modal:t,isLoading:!1,products:[],is_single:"",include_variations:!1,selectedProducts:[]},methods:{onSubmit:function(){wfob.wfob_data_org=JSON.stringify(wfob_data);var t=new wfob.ajax,i=this;i.modal.startLoading();var n=[],a=this.selectedProducts;if(wfob.tools.ol(this.selectedProducts)>0)for(var r in a)n.push(a[r].id);var s={products:n,wfob_id:o.id};t.ajax("add_product",s),wfob.hide_spinner(),t.success=function(t){wfob.tools.ol(t)>0&&o.addProducts(t),e("#modal-add-product").iziModal("close")},t.complete=function(){i.clearAll(),i.modal.stopLoading()}},asyncFind:function(e){var t=this;this.isLoading=!0,""!==e?(clearTimeout(o.search_timeout),o.search_timeout=setTimeout(function(e){var o=new wfob.ajax,i={term:e,variations:t.include_variations};o.ajax("product_search",i),wfob.hide_spinner(),o.success=function(e){t.products=e,t.isLoading=!1},o.complete=function(){t.isLoading=!1}},1e3,e)):this.isLoading=!1},clearAll:function(){this.products=[],this.selectedProducts=[],this.isLoading=!1}}})}}},{key:"addProductModel",value:function(){var t=this,o=e("#modal-add-product");o.length>0&&o.iziModal({title:"Add Product",headerColor:"#6dbe45",background:"#efefef",borderBottom:!1,width:600,overlayColor:"rgba(0, 0, 0, 0.6)",transitionIn:"fadeInDown",transitionOut:"fadeOutDown",navigateArrows:"false",onOpening:function(e){e.startLoading()},onOpened:function(e){e.stopLoading(),t.addProductVue(e)},onClosed:function(e){}})}},{key:"$_events",value:function(){_get(_getPrototypeOf(i.prototype),"$_events",this).call(this);var t=this;e(document).on("click",".wfob_edit_title",function(){e(this).siblings(".wfob_product_title").prop("contentEditable",!0).addClass("wfob_title_border").focus(),e(this).hide(),e(this).siblings(".wfob_save_title").show()}),e(document).on("click",".wfob_save_title",function(){var o=e(this).attr("index");e(this).siblings(".wfob_product_title").prop("contentEditable",!1);var i=e(this).siblings(".wfob_product_title").removeClass("wfob_title_border").text();e(this).hide(),e(this).siblings(".wfob_edit_title").show(),(i=wfob.tools.stripHTML(i))&&(Vue.set(t.main_vue.products[o],"title",i),t.main_vue.save_products()),wfob.hooks.doAction("wfob_update_title",[{title:i,index:o}])})}}]),i}(),n=function(o){function i(e){return _classCallCheck(this,i),_possibleConstructorReturn(this,_getPrototypeOf(i).call(this,e))}return _inherits(i,t),_createClass(i,[{key:"main",value:function(){new wfob.ajax(".wfob_rules_form",!0).success=function(e){wfob.show_data_save_model(e.msg)}}},{key:"$_events",value:function(){_get(_getPrototypeOf(i.prototype),"$_events",this).call(this),e(".wfob_bump_rule_add_settings").on("click",function(){e("#wfob_bump_rule_add_settings").attr("data-is_rules_saved","yes"),e("#wfob_bump_rule_settings").removeClass("wfob-tgl")})}}]),i}(),a=function(o){function i(e){var t;return _classCallCheck(this,i),(t=_possibleConstructorReturn(this,_getPrototypeOf(i).call(this,e))).ajax_action="save_design",t}return _inherits(i,t),_createClass(i,[{key:"main",value:function(){var t=this;for(var o in this.main_vue=new Vue({el:"#wfob_design_setting",components:{"vue-form-generator":VueFormGenerator.component},created:function(){this.onchange()},methods:{onchange:function(){var t=this;setTimeout(function(){var o=e(".wfob_color_picker .form-control");o.length>0&&(o.wpColorPicker({change:function(e,o){var i=e.target.id;t.model[i]=o.color.toString(),t.apply_css()}}),o.trigger("change"),e('.wfob_color_picker .wp-picker-container input[type="text"], .button.wp-color-result').on("click",function(){e(".iris-picker").hide(),e(this).parent().parent().parent().addClass("wp-picker-active"),e(this).parent().parent().parent().find(".button.wp-color-result").addClass("wp-picker-open"),e(this).parent().parent().parent().find(".iris-picker.iris-border").css("display","block")}),e(document).on("click",function(){e(".iris-picker:visible").length>0&&e(".iris-picker").hide()}))},200),this.apply_css()},apply_css:function(){var e={};for(var t in e[".wfob_bump_r_outer_wrap .wfob_wrapper.wfob_bump .wfob_bgBox_table"]=this.get_heading_box_style(),e[".wfob_bump_r_outer_wrap .wfob_wrapper.wfob_bump .wfob_bgBox_table:hover"]=this.get_heading_box_hover_style(),e[".wfob_bump_r_outer_wrap .wfob_wrapper.wfob_bump .wfob_bgBox_table .wfob_title"]=this.get_heading_style(),e[".wfob_bump_r_outer_wrap .wfob_wrapper.wfob_bump .wfob_bgBox_table .wfob_title:hover"]=this.get_heading_hover_style(),e[".wfob_bump_r_outer_wrap .wfob_wrapper.wfob_bump .wfob_price_container"]=this.get_price_box_style(),e[".wfob_bump_r_outer_wrap .wfob_wrapper.wfob_bump .wfob_price_container span.woocommerce-Price-amount.amount"]="font-size:"+this.model.price_font_size+"px;",e[".wfob_bump_r_outer_wrap .wfob_wrapper.wfob_bump .wfob_price_container .wfob_price ins"]=this.get_sale_price_box_style(),e[".wfob_bump_r_outer_wrap .wfob_wrapper.wfob_bump .wfob_contentBox"]=this.get_content_box_style(),e[".wfob_bump_r_outer_wrap .wfob_wrapper.wfob_bump .wfob_qv-button"]="color:"+this.model.content_variation_link_color+";",e[".wfob_bump_r_outer_wrap .wfob_wrapper.wfob_bump .wfob_qv-button:hover"]="color:"+this.model.content_variation_link_hover_color+";",e[".wfob_bump_r_outer_wrap"]="max-width:"+this.model.bump_max_width+"px;",e[".wfob_bump_r_outer_wrap .wfob_wrapper.wfob_bump .wfob_contentBox .wfob_pro_img_wrap"]=this.get_content_featured_image_style(),e[".wfob_bump_r_outer_wrap .wfob_wrapper.wfob_bump"]=this.get_box_css(),document.getElementsByTagName("style")[0].innerHTML="",e)document.getElementsByTagName("style")[0].innerHTML+=t+"{"+e[t]+"}"},save:function(){t.ajax_data.settings=wfob.tools.jsp(this.model),t.send_ajax()},setSkin:function(e){var o=this,i=wfob.swal(wfob_localization.design.layout_change);i.then(function(i){if(i.value){var n=wfob.tools.jsp(t.design.design_default_model_data[e]);for(var a in n)wfob.tools.hp(o.model,a)&&(o.model[a]=n[a]);o.onchange()}}),i.catch(function(e){})},get_box_css:function(){if(this.model.border_width<1||"none"===this.model.border_style)return"";var e=[];return this.model.enable_box_border&&e.push("border:"+this.model.border_width+"px "+this.model.border_style+" "+this.model.border_color),e.push("padding:"+this.model.box_padding+"px"),e.push("background:"+this.model.box_background),e.join(";")},get_heading_box_style:function(){var e=[];return e.push("background:"+this.model.heading_background),e.push("padding:"+this.model.heading_box_padding+"px"),e.push("font-size:"+this.model.heading_font_size+"px"),e.push("border-bottom-width:0"),e.join(";")},get_heading_box_hover_style:function(){var e=[];return e.push("background:"+this.model.heading_hover_background),e.join(";")},get_heading_style:function(){var e=[];return e.push("color:"+this.model.heading_color),e.join(";")},get_heading_hover_style:function(){var e=[];return e.push("color:"+this.model.heading_hover_color),e.join(";")},get_price_box_style:function(){var e=[];return e.push("color:"+this.model.price_color),e.push("font-size:"+this.model.price_font_size+"px"),e.push("border-bottom-width:0"),e.join(";")},get_sale_price_box_style:function(){var e=[];return e.push("color:"+this.model.price_sale_color),e.join(";")},get_content_box_style:function(){var e=[];return e.push("color:"+this.model.content_color),e.push("padding:"+this.model.content_box_padding+"px"),e.push("font-size:"+this.model.content_font_size+"px"),e.join(";")},get_content_featured_image_style:function(){var e=[];return this.model.enable_featured_image_border&&e.push("border:"+this.model.featured_image_border_width+"px "+this.model.featured_image_border_style+" "+this.model.featured_image_border_color),e.join(";")}},data:{current_tab:0,model:wfob.tools.jsp(t.design.model),schema:{groups:[{fields:t.design.product_field},{},{fields:[{type:"label",label:wfob_localization.design.title_box,styleClasses:"wfob_design_box_heading"},{type:"input",inputType:"number",label:wfob_localization.design.padding,model:"heading_box_padding",rows:4,validator:VueFormGenerator.validators.string},{type:"input",inputType:"text",label:wfob_localization.design.color,model:"heading_color",id:"heading_color",styleClasses:"wfob_color_picker"},{type:"input",inputType:"text",label:wfob_localization.design.hover_color,model:"heading_hover_color",id:"heading_hover_color",styleClasses:"wfob_color_picker"},{type:"input",inputType:"number",label:wfob_localization.design.font_size,model:"heading_font_size",visible:function(e){return e.show_price},validator:VueFormGenerator.validators.string},{type:"input",inputType:"text",label:wfob_localization.design.background,model:"heading_background",id:"heading_background",styleClasses:"wfob_color_picker"},{type:"input",inputType:"text",label:wfob_localization.design.hover_background,model:"heading_hover_background",id:"heading_hover_background",styleClasses:"wfob_color_picker"},{type:"input",inputType:"text",label:wfob_localization.design.error_color,model:"error_color",id:"error_color",styleClasses:["wfob_color_picker","wfob_color_picker_error"]},{type:"switch",label:wfob_localization.design.header_enable_pointing_arrow,model:"header_enable_pointing_arrow",validator:VueFormGenerator.validators.string,styleClasses:"wfob_pointer_arrow"},{type:"select",label:wfob_localization.design.point_animation,model:"point_animation",values:function(){return Object.create(wfob_localization.design.yes_no_drop_down)},visible:function(e){return e.header_enable_pointing_arrow},selectOptions:{hideNoneSelectedText:!0},validator:VueFormGenerator.validators.string,styleClasses:"wfob_pointer_animation"},{type:"label",label:wfob_localization.design.price_box,styleClasses:"wfob_design_box_heading"},{type:"select",label:wfob_localization.design.enable_price,model:"enable_price",values:function(){return Object.create(wfob_localization.design.yes_no_drop_down)},id:"enable_price",selectOptions:{hideNoneSelectedText:!0}},{type:"input",inputType:"text",label:wfob_localization.design.price_color,model:"price_color",id:"price_color",styleClasses:"wfob_color_picker"},{type:"input",inputType:"text",label:wfob_localization.design.price_sale_color,model:"price_sale_color",id:"price_sale_color",styleClasses:"wfob_color_picker"},{type:"input",inputType:"number",label:wfob_localization.design.font_size,model:"price_font_size",validator:VueFormGenerator.validators.number},{type:"label",label:wfob_localization.design.description_box,styleClasses:"wfob_design_box_heading"},{type:"input",inputType:"number",label:wfob_localization.design.padding,model:"content_box_padding",validator:VueFormGenerator.validators.string},{type:"input",inputType:"text",label:wfob_localization.design.content_text_color,model:"content_color",id:"content_color",styleClasses:"wfob_color_picker"},{type:"input",inputType:"text",label:wfob_localization.design.content_variation_link_color,model:"content_variation_link_color",id:"content_variation_link_color",styleClasses:"wfob_color_picker"},{type:"input",inputType:"text",label:wfob_localization.design.content_variation_link_hover_color,model:"content_variation_link_hover_color",id:"content_variation_link_hover_color",styleClasses:"wfob_color_picker"},{type:"input",inputType:"number",label:wfob_localization.design.font_size,model:"content_font_size",visible:function(e){return e.show_price},validator:VueFormGenerator.validators.string},{type:"label",label:wfob_localization.design.featured_image_border_label,styleClasses:"wfob_design_box_heading"},{type:"switch",label:wfob_localization.design.border,model:"enable_featured_image_border",styleClasses:"wfob_field_switch_border"},{type:"input",inputType:"number",model:"featured_image_border_width",visible:function(e){return e.enable_featured_image_border},validator:VueFormGenerator.validators.number,styleClasses:"wfob_field_border_width"},{type:"select",model:"featured_image_border_style",styleClasses:"wfob_field_border_style",values:function(){return Object.create(wfob_localization.design.border_type)},visible:function(e){return e.enable_featured_image_border},selectOptions:{hideNoneSelectedText:!0}},{type:"input",inputType:"text",model:"featured_image_border_color",id:"featured_image_border_color",visible:function(e){return e.enable_featured_image_border},styleClasses:["wfob_color_picker","wfob_color_picker_border"]},{type:"label",label:wfob_localization.design.additional_settings,styleClasses:"wfob_design_box_heading"},{type:"input",inputType:"number",label:wfob_localization.design.padding,model:"box_padding",validator:VueFormGenerator.validators.number},{type:"input",inputType:"text",label:wfob_localization.design.background,id:"box_background",model:"box_background",styleClasses:"wfob_color_picker"},{type:"switch",label:wfob_localization.design.border,model:"enable_box_border",styleClasses:"wfob_field_switch_border"},{type:"input",inputType:"number",model:"border_width",label:wfob_localization.design.border_width,visible:function(e){return e.enable_box_border},validator:VueFormGenerator.validators.number,styleClasses:"wfob_field_border_width"},{type:"select",model:"border_style",label:wfob_localization.design.border_style,styleClasses:"wfob_field_border_style",visible:function(e){return e.enable_box_border},values:function(){return Object.create(wfob_localization.design.border_type)},selectOptions:{hideNoneSelectedText:!0}},{type:"input",inputType:"text",label:wfob_localization.design.border_color,model:"border_color",id:"border_color",styleClasses:["wfob_color_picker","wfob_color_picker_border"],visible:function(e){return e.enable_box_border}},{type:"input",inputType:"number",label:wfob_localization.design.bump_max_width,model:"bump_max_width",id:"bump_max_width",styleClasses:"wfob_bump_maxwidth"}]}]},formOptions:{}}}),this.design.model)"true"===this.design.model[o]?this.main_vue.model[o]=!0:"false"===this.design.model[o]?this.main_vue.model[o]=!1:this.main_vue.model[o]=this.design.model[o]}},{key:"$_events",value:function(){_get(_getPrototypeOf(i.prototype),"$_events",this).call(this);var t=this;if(e(".wfob-product-widget-tabs").length>0){var o=e(".wfob-product-widget-tabs .wfob-tab-title");o.on("click",function(o){var i=e(this).closest(".wfob-product-widget-tabs"),n=e(this).attr("data-tab");i.find(".wfob-tab-title").removeClass("wfob-active"),i.find(".wfob-tab-title[data-tab="+n+"]").addClass("wfob-active"),t.main_vue.current_tab=n,e(i).find(".wfob-tab-content").removeClass("wfob-activeTab"),e(i).find(".wfob_forms_global_settings .vue-form-generator fieldset").hide(),e(i).find(".wfob_forms_global_settings .vue-form-generator fieldset").eq(n-1).addClass("wfob-activeTab"),e(i).find(".wfob_forms_global_settings .vue-form-generator fieldset").eq(n-1).show()}),o.eq(0).trigger("click")}}}]),i}(),r=function(e){function o(e){var t;return _classCallCheck(this,o),(t=_possibleConstructorReturn(this,_getPrototypeOf(o).call(this,e))).ajax_action="save_settings",t}return _inherits(o,t),_createClass(o,[{key:"main",value:function(){var e=this;this.main_vue=new Vue({el:"#wfob_bump_setting",components:{"vue-form-generator":VueFormGenerator.component},created:function(){this.onchange()},methods:{save:function(){e.ajax_data.settings=wfob.tools.jsp(this.model),e.send_ajax()},onchange:function(){}},data:{current_tab:0,model:this.settings,schema:{fields:[{type:"label",label:wfob_localization.settings.priority_label,styleClasses:["wfob_setting_heading"]},{type:"input",inputType:"text",label:wfob_localization.settings.priority,hint:wfob_localization.settings.priority_hint,id:"priority",model:"priority"},{type:"label",label:wfob_localization.settings.order_bump_position_label,styleClasses:["wfob_setting_heading"]},{type:"select",label:wfob_localization.settings.order_bump_position_label,model:"order_bump_position_hooks",hint:wfob_localization.settings.other_bump_position_hint,values:function(){return Object.create(wfob_localization.settings.order_bump_position_hooks)},selectOptions:{hideNoneSelectedText:!0},validator:VueFormGenerator.validators.string,styleClasses:["wfob_pointer_animation","wfob_select_here"]}]},formOptions:{}}})}}]),o}(),s=function(o){function i(e){var t;return _classCallCheck(this,i),(t=_possibleConstructorReturn(this,_getPrototypeOf(i).call(this,e))).ajax_action="global_save_settings",t}return _inherits(i,t),_createClass(i,[{key:"main",value:function(){var e=this;this.main_vue=new Vue({el:"#wfob_global_setting",components:{"vue-form-generator":VueFormGenerator.component},created:function(){this.onchange()},methods:{save:function(){e.ajax_data.settings=wfob.tools.jsp(this.model),e.send_ajax()},onchange:function(){}},data:{current_tab:0,model:this.global_settings,schema:{groups:[{fields:[{type:"label",label:wfob_localization.global_settings.custom_css_heading,styleClasses:["wfob_setting_heading_wrap"]},{type:"label",label:wfob_localization.global_settings.custom_css_label,styleClasses:["wfob_setting_heading"]},{type:"textArea",id:"css",model:"css",styleClasses:["wfob_width_70"],hint:wfob_localization.global_settings.custom_css_label_hint,rows:8}]},{fields:[{type:"label",label:wfob_localization.global_settings.miscellaneous_heading,styleClasses:["wfob_setting_heading_wrap"]},{type:"label",label:wfob_localization.global_settings.number_of_bump_print_label,styleClasses:["wfob_setting_heading"]},{type:"input",inputType:"text",id:"number_bump_per_checkout",model:"number_bump_per_checkout",styleClasses:["wfob_width_70"],hint:wfob_localization.global_settings.number_of_bump_print_hint,rows:8}]}]},formOptions:{}}})}},{key:"$_events",value:function(){if(_get(_getPrototypeOf(i.prototype),"$_events",this).call(this),e(".wfob-product-widget-tabs").length>0){var t=e(".wfob-product-widget-tabs .wfob-tab-title");t.on("click",function(t){var o=e(this).closest(".wfob-product-widget-tabs"),i=e(this).attr("data-tab");o.find(".wfob-tab-title").removeClass("wfob-active"),o.find(".wfob-tab-title[data-tab="+i+"]").addClass("wfob-active"),e(o).find(".wfob-tab-content").removeClass("wfob-activeTab"),e(o).find(".wfob_forms_global_settings .vue-form-generator fieldset").hide(),e(o).find(".wfob_forms_global_settings .vue-form-generator fieldset").eq(i-1).addClass("wfob-activeTab"),e(o).find(".wfob_forms_global_settings .vue-form-generator fieldset").eq(i-1).show()}),t.eq(0).trigger("click")}}}]),i}();e(window).load(function(){e("#modal-add-bump").length>0&&new o(wfob_data),e("#wfob_product_container").length>0&&new i(wfob_data),e("#wfob_bump_rule_settings").length>0&&new n(wfob_data),e("#wfob_design_setting").length>0&&new a(wfob_data),e("#wfob_bump_setting").length>0&&new r(wfob_data),e("#wfob_global_setting").length>0&&new s(wfob_data),e(".wfob_allow_panel_close .hndle").on("click",function(){e(this);e(this).parents(".wfob_allow_panel_close").toggleClass("closed")})})}(jQuery);